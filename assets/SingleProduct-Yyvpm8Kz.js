import{d as S,r as j,C as M,x as A,i as D,o as r,c,a as t,b as u,v as m,e as N,f as P,g as d,w as F,A as i,t as a,B as O,F as U}from"./index-CSgH6dfJ.js";import{u as E}from"./product-CpUdjvYa.js";import{u as I}from"./order-DCe49NSA.js";import{_ as K}from"./button.vue_vue_type_script_setup_true_lang-Dzt7Mxry.js";import{e as R}from"./toast-LvGR2kI4.js";import"./index-DOShHOzY.js";const $={class:"order bg-primary py-5 h-[300px] rounded-lg mt-20"},G=t("div",{class:"mb-3 text-2xl text-white font-semibold"},"Buyurtma berish",-1),H={class:"mb-3"},J=t("label",{class:"block mb-1 text-white text-[14px]",for:"name"},"To'liq ism sharif",-1),L={class:"mb-3"},Q=t("label",{class:"block mb-1 text-[14px] text-white",for:"phone"},"Telefon raqam",-1),W={class:"p-2 bg-emerald-700 w-[130px] rounded-md text-white hover:bg-emerald-900 duration-500 ease-in-out"},X={class:"single_product gap-14"},Y={class:"singleProduct_img border"},Z=["src"],ee={class:"singleProduct_desc"},te={class:"text-2xl text-gray-700 font-semibold mb-7"},se={key:0,class:"flex gap-2 items-baseline font-semibold mb-7"},oe=t("span",{class:"text-slate-400 font-normal text-[14px]"},"Narx: ",-1),ie={class:"text-slate-300 text-[14px]"},ae=t("div",{class:"bg-yellow px-1 rounded-md ml-12"},"Aksiya",-1),ne={key:1,class:"font-semibold mb-7"},le=t("span",{class:"text-slate-400 font-normal text-[14px]"},"Narx: ",-1),de={class:"mb-7 font-semibold text-[20px]"},re={class:"mb-7"},ce=t("span",{class:"text-slate-400 text-[14px]"},"Sotuvda mavjud: ",-1),ue={class:"mb-7"},me=t("span",{class:"text-slate-400 text-[14px]"},"Kategoriya: ",-1),_e={key:0,class:"fixed top-0 bg-white left-0 w-full h-full flex items-center justify-center z-50"},pe={class:"absolute bg-white p-6 rounded-lg"},he=t("p",{class:"text text-center text-5xl font-semibold text-gray-800 mb-4"}," Raxmat! Sizning buyurtmangiz qabul qilindi! ",-1),xe=t("p",{class:"desc text-center mt-5 text-xl text-slate-800"}," Tez orada menejerlarimiz ko'rsatilgan ma'lumotlari yordamida siz bilan bog'lanishadi! ",-1),fe={class:"flex justify-center mt-5"},Ne=S({__name:"SingleProduct",setup(ge){const _=n=>{let e=n.target.value;e=e.replace(/\D/g,""),e.length<3?e="+998":e.length<5?e="+998("+e.substring(3):e.length<8?e="+998("+e.substring(3,5)+")"+e.substring(5):e.length<11?e="+998("+e.substring(3,5)+")"+e.substring(5,8)+"-"+e.substring(8):e.length<14&&(e="+998("+e.substring(3,5)+")"+e.substring(5,8)+"-"+e.substring(8,10)+"-"+e.substring(10)),n.target.value=e,s.phone=e},p=j(!1),{singleProduct:o,fetchOneProduct:T,route:z}=E(),{addOrder:C}=I(),s=M({full_name:"",phone:"",product_id:""});async function V(){if(!s.full_name.length||s.phone.length!==17){R("Malumotlaringizi to'liq kiriting");return}await C(s),s.full_name="",s.phone="",p.value=!0}return A(async()=>{const n=String(z.params.id);await T(n),o.value&&(s.product_id=o.value.id)}),(n,e)=>{var h,x,f,g,b,v,y,w,k,q;const B=D("router-link");return r(),c(U,null,[t("div",$,[G,t("div",H,[J,u(t("input",{class:"order_input p-2 rounded-md focus:outline-none","onUpdate:modelValue":e[0]||(e[0]=l=>s.full_name=l),type:"text",placeholder:"To'liq ism sharif",id:"name"},null,512),[[m,s.full_name]])]),t("div",L,[Q,u(t("input",{class:"order_input p-2 rounded-md focus:outline-none","onUpdate:modelValue":e[1]||(e[1]=l=>s.phone=l),type:"tel",onInput:_,onFocus:_,id:"phone",maxlength:"17",placeholder:"+998(__)___-__-__"},null,544),[[m,s.phone]])]),t("div",null,[u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.product_id=l),type:"hidden"},null,512),[[m,s.product_id]])]),t("div",W,[N(K,{onClick:F(V,["prevent"]),class:"mx-auto"},{default:P(()=>[d("Tasdiqlash")]),_:1})])]),t("div",X,[t("div",Y,[t("img",{class:"mx-auto",src:"http://5.182.26.68:3000/"+((h=i(o))==null?void 0:h.image),alt:""},null,8,Z)]),t("div",ee,[t("div",te,a((x=i(o))==null?void 0:x.name),1),(f=i(o))!=null&&f.reduced_price?(r(),c("div",se,[oe,t("div",null,a((g=i(o))==null?void 0:g.reduced_price),1),t("s",ie,a((b=i(o))==null?void 0:b.price),1),ae])):(r(),c("div",ne,[le,d(" "+a((v=i(o))==null?void 0:v.price),1)])),t("div",de,a((y=i(o))==null?void 0:y.description),1),t("div",re,[ce,d(" "+a((w=i(o))==null?void 0:w.value),1)]),t("div",ue,[me,d(" "+a((q=(k=i(o))==null?void 0:k.category)==null?void 0:q.name),1)])])]),p.value?(r(),c("div",_e,[t("div",pe,[he,xe,t("div",fe,[N(B,{class:"bg-primary text-white text-center px-4 py-2 rounded-md hover:bg-emerald-600",to:"/"},{default:P(()=>[d("Asosiy sahifaga qaytish")]),_:1})])])])):O("",!0)],64)}}});export{Ne as default};
