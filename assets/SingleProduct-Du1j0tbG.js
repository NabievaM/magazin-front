import{d as j,r as M,C as A,x as D,i as F,o as d,c,a as t,b as u,v as m,e as q,f as N,g as r,w as O,A as i,t as a,B as U,F as E}from"./index-BEmwAiRr.js";import{u as I}from"./product-4TWydDDX.js";import{u as K}from"./order-7SP7Ld9D.js";import{_ as R}from"./button.vue_vue_type_script_setup_true_lang-DzeB8psd.js";import{e as $}from"./toast-B2-E7crD.js";import"./index-CMD5eVUp.js";const G={class:"order bg-primary py-5 h-[300px] rounded-lg mt-20"},H=t("div",{class:"mb-3 text-2xl text-white font-semibold"},"Buyurtma berish",-1),J={class:"mb-3"},L=t("label",{class:"block mb-1 text-white text-[14px]",for:"name"},"To'liq ism sharif",-1),Q={class:"mb-3"},W=t("label",{class:"block mb-1 text-[14px] text-white",for:"phone"},"Telefon raqam",-1),X={class:"p-2 bg-emerald-700 w-[130px] rounded-md text-white hover:bg-emerald-900 duration-500 ease-in-out"},Y={class:"single_product gap-14"},Z={class:"singleProduct_img border"},ee=["src"],te={class:"singleProduct_desc"},se={class:"text-2xl text-gray-700 font-semibold mb-7"},oe={key:0,class:"flex gap-2 items-baseline font-semibold mb-7"},ie=t("span",{class:"text-slate-400 font-normal text-[14px]"},"Narx: ",-1),ae={class:"text-slate-300 text-[14px]"},ne=t("div",{class:"bg-yellow px-1 rounded-md ml-12"},"Aksiya",-1),le={key:1,class:"font-semibold mb-7"},re=t("span",{class:"text-slate-400 font-normal text-[14px]"},"Narx: ",-1),de={class:"mb-7 font-semibold text-[20px]"},ce={class:"mb-7"},ue=t("span",{class:"text-slate-400 text-[14px]"},"Sotuvda mavjud: ",-1),me={class:"mb-7"},_e=t("span",{class:"text-slate-400 text-[14px]"},"Kategoriya: ",-1),pe={key:0,class:"fixed top-0 bg-white left-0 w-full h-full flex items-center justify-center z-50"},he={class:"absolute bg-white p-6 rounded-lg"},xe=t("p",{class:"text text-center text-5xl font-semibold text-gray-800 mb-4"}," Raxmat! Sizning buyurtmangiz qabul qilindi! ",-1),ge=t("p",{class:"desc text-center mt-5 text-xl text-slate-800"}," Tez orada menejerlarimiz ko'rsatilgan ma'lumotlari yordamida siz bilan bog'lanishadi! ",-1),fe={class:"flex justify-center mt-5"},Ne=j({__name:"SingleProduct",setup(be){const P="https://api.uzbekstore.uz/api".replace("uz/api","uz/"),_=n=>{let e=n.target.value;e=e.replace(/\D/g,""),e.length<3?e="+998":e.length<5?e="+998("+e.substring(3):e.length<8?e="+998("+e.substring(3,5)+")"+e.substring(5):e.length<11?e="+998("+e.substring(3,5)+")"+e.substring(5,8)+"-"+e.substring(8):e.length<14&&(e="+998("+e.substring(3,5)+")"+e.substring(5,8)+"-"+e.substring(8,10)+"-"+e.substring(10)),n.target.value=e,s.phone=e},p=M(!1),{singleProduct:o,fetchOneProduct:T,route:C}=I(),{addOrder:V}=K(),s=A({full_name:"",phone:"",product_id:""});async function B(){if(!s.full_name.length||s.phone.length!==17){$("Malumotlaringizi to'liq kiriting");return}await V(s),s.full_name="",s.phone="",p.value=!0}return D(async()=>{const n=String(C.params.id);await T(n),o.value&&(s.product_id=o.value.id)}),(n,e)=>{var h,x,g,f,b,v,y,w,k,z;const S=F("router-link");return d(),c(E,null,[t("div",G,[H,t("div",J,[L,u(t("input",{class:"order_input p-2 rounded-md focus:outline-none","onUpdate:modelValue":e[0]||(e[0]=l=>s.full_name=l),type:"text",placeholder:"To'liq ism sharif",id:"name"},null,512),[[m,s.full_name]])]),t("div",Q,[W,u(t("input",{class:"order_input p-2 rounded-md focus:outline-none","onUpdate:modelValue":e[1]||(e[1]=l=>s.phone=l),type:"tel",onInput:_,onFocus:_,id:"phone",maxlength:"17",placeholder:"+998(__)___-__-__"},null,544),[[m,s.phone]])]),t("div",null,[u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.product_id=l),type:"hidden"},null,512),[[m,s.product_id]])]),t("div",X,[q(R,{onClick:O(B,["prevent"]),class:"mx-auto"},{default:N(()=>[r("Tasdiqlash")]),_:1})])]),t("div",Y,[t("div",Z,[t("img",{class:"mx-auto",src:i(P)+((h=i(o))==null?void 0:h.image),alt:""},null,8,ee)]),t("div",te,[t("div",se,a((x=i(o))==null?void 0:x.name),1),(g=i(o))!=null&&g.reduced_price?(d(),c("div",oe,[ie,t("div",null,a((f=i(o))==null?void 0:f.reduced_price),1),t("s",ae,a((b=i(o))==null?void 0:b.price),1),ne])):(d(),c("div",le,[re,r(" "+a((v=i(o))==null?void 0:v.price),1)])),t("div",de,a((y=i(o))==null?void 0:y.description),1),t("div",ce,[ue,r(" "+a((w=i(o))==null?void 0:w.value),1)]),t("div",me,[_e,r(" "+a((z=(k=i(o))==null?void 0:k.category)==null?void 0:z.name),1)])])]),p.value?(d(),c("div",pe,[t("div",he,[xe,ge,t("div",fe,[q(S,{class:"bg-primary text-white text-center px-4 py-2 rounded-md hover:bg-emerald-600",to:"/"},{default:N(()=>[r("Asosiy sahifaga qaytish")]),_:1})])])])):U("",!0)],64)}}});export{Ne as default};
